var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){if(d.get||d.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.findInternal=function(a,b,d){a instanceof String&&(a=String(a));for(var c=a.length,e=0;e<c;e++){var f=a[e];if(b.call(d,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};
$jscomp.polyfill=function(a,b,d,c){if(b){d=$jscomp.global;a=a.split(".");for(c=0;c<a.length-1;c++){var e=a[c];e in d||(d[e]={});d=d[e]}a=a[a.length-1];c=d[a];b=b(c);b!=c&&null!=b&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,d){return $jscomp.findInternal(this,a,d).v}},"es6-impl","es3");$jscomp.array=$jscomp.array||{};
$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var d=0,c={next:function(){if(d<a.length){var e=d++;return{value:b(e,a[e]),done:!1}}c.next=function(){return{done:!0,value:void 0}};return c.next()}};c[Symbol.iterator]=function(){return c};return c};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6-impl","es3");
var touch=!1,mot=1,cur=1,currentLoc="",scoreMeterVal=[0,0],lsVersion=.3,getQs=$.getJSON("js/questions.json",function(){}).done(function(){questList=JSON.parse(getQs.responseText).questions}).fail(function(a,b,d){console.error("getJSON for questions.json failed, status: "+b+", error: "+d)});
$(document).ready(function(){$("a").click(function(a){a.preventDefault();changePage($(this))});touch=detectTouch();$("body").on("mouseenter","input, textarea",function(){$("#cursor").addClass("inputHover")}).on("mouseenter","a, button",function(a){$("#cursor").addClass("hover");$(a.target).attr("href")&&($(a.target).attr("href").indexOf("http")||$("#cursor").addClass("link"))}).on("mouseleave","a, button, input, textarea",function(){$("#cursor").removeClass("link hover mousedown mouseRefuse inputHover")}).on("mousedown",
"a, button, input, textarea",function(a){$(a.target).hasClass("active")||$(a.target).parents("a").hasClass("active")?$("#cursor").addClass("mouseRefuse"):$("#cursor").addClass("mousedown")}).on("mouseup","a, button, input, textarea",function(){$("#cursor").removeClass("mousedown mouseRefuse")});$("main").on("mouseenter focusin",".select",function(){openAns($(this))}).on("mouseleave focusout",".select",function(){closeAns($(this))});$("main").on("keydown",".select",function(a){a.stopPropagation();
var b=$(this);switch(a.which){case 38:openAns(b);b.find(".answer").removeClass("selected");b.find(".topAns").addClass("selected");break;case 40:openAns(b);b.find(".answer").removeClass("selected");b.find(".botAns").addClass("selected");break;case 27:b.find(".answer").removeClass("selected");closeAns(b);break;case 13:case 32:a.preventDefault();b.hasClass("open")&&b.find(".selected").length?(closeAns(b),b.nextAll(".select, .qBtn").eq(0).focus()):openAns(b);break;case 39:a.preventDefault();b.nextAll(".select").length&&
(b.hasClass("open")&&closeAns(b),b.nextAll(".select").eq(0).focus().addClass("open"));break;case 37:a.preventDefault(),b.prevAll(".select").length&&(b.hasClass("open")&&closeAns(b),b.prevAll(".select").eq(0).focus().addClass("open"))}}).on("focusout keyup",".select",function(a){13===a.which&&a.preventDefault()});$("main").on("mouseenter",".answer",function(){$(this).siblings(".answer").removeClass("selected");$(this).addClass("selected");$(this).parents(".select").addClass("selectionMade")}).on("mouseup",
".answer",function(){$(this).addClass("selected");closeAns($(this).parents(".select"))}).on("mousemove",".answer",function(a){if(mot){var b=$(a.target),d=b.parents(".select"),c=a.pageX;a=a.pageY;var e=d.offset().left,f=d.offset().top,g=d.outerWidth(),d=b.hasClass("topAns")?0:64,e=e+g/2,f=f+d+16,c=Math.abs(c-e)/(c-e)*Math.pow(Math.abs(c-e),.5);a=Math.abs(a-f)/(a-f)*Math.pow(Math.abs(a-f),.5);b.css({"-webkit-transform":"translate("+c+"px,"+a+"px)","-moz-transform":"translate("+c+"px,"+a+"px)","-ms-transform":"translate("+
c+"px,"+a+"px)",transform:"translate("+c+"px,"+a+"px)"})}}).on("mouseleave",".answer",function(){mot&&$(".answer").css({"-webkit-transform":"translate(0px,0px)","-moz-transform":"translate(0px,0px)","-ms-transform":"translate(0px,0px)",transform:"translate(0px,0px)"})});$("main").on("mouseup",".blank",function(){$(this).parents(".select").removeClass("selectionMade");$(this).siblings(".answer").removeClass("selected")});$("main").on("click","#scoreMeter+button",function(){localStorage.clear();storageSetup();
scoreMeter()}).on("click","#motionToggle",function(){mot?(localStorage.setItem("motion",0),mot=0,$("main, #cursor").css({"-webkit-transform":"none","-moz-transform":"none","-ms-transform":"none",transform:"none"}),$("body").css({"box-shadow":"none"}),$("#motionToggle").html("Turn on motion")):(localStorage.setItem("motion",1),mot=1,$("#motionToggle").html("Turn off motion"))}).on("click","#cursorToggle",function(){cur?(localStorage.setItem("cursor",0),cur=0,$("body").removeClass("custCursOn"),$("#cursorToggle").html("Turn on cursor")):
(localStorage.setItem("cursor",1),cur=1,$("body").addClass("custCursOn"),$("#cursorToggle").html("Turn off cursor"))});touch?($("body").addClass("touch"),$("main").off(),$("body").off(),$(".touch").on("touchstart",".open .answer",function(){$(this).siblings(".answer").removeClass("selected");$(this).addClass("selected")}),$(".touch").on("touchend",".select",function(){$(this).hasClass("open")?closeAns($(this)):openAns($(this))})):$(document).bind("mousemove",function(a){var b,d,c;b=$(window).width();
d=$(window).height();c=a.pageX;a=a.pageY;cur&&$("#cursor").css({left:c-3,top:a-3});mot&&(b=-(12-c/b*24),d=8-a/d*16,c=Math.abs(b)/b*Math.pow(Math.abs(b),.5),a=$("body").hasClass("status-meh")?"rgba(82, 0, 210, 0.15)":$("body").hasClass("status-de")?"rgba(0, 183, 226, 0.15)":"rgba(255, 0, 98, 0.15)",b=String(-10*b+"px "+10*d+"px 180px -60px "+a+" inset"),$("main, #cursor").css({"-webkit-transform":"rotateX("+d+"deg) rotateY("+c+"deg)","-moz-transform":"rotateX("+d+"deg) rotateY("+c+"deg)","-ms-transform":"rotateX("+
d+"deg) rotateY("+c+"deg)",transform:"rotateX("+d+"deg) rotateY("+c+"deg)"}),$("body").css({"box-shadow":b}))});localStorage.getItem("motion")?mot=parseInt(localStorage.getItem("motion")):localStorage.setItem("motion",mot);localStorage.getItem("cursor")?cur=parseInt(localStorage.getItem("cursor")):localStorage.setItem("cursor",cur);cur&&!touch||$("body").removeClass("custCursOn");storageSetup();calcScore(JSON.parse(localStorage.getItem("Qprogress")));changePage($("#sitelogo"))});
function applyTouch(){$("#cursor").hide();localStorage.setItem("cursor",0);cur=0;localStorage.setItem("motion",0);mot=0;$("main").css({"-webkit-transform":"none","-moz-transform":"none","-ms-transform":"none",transform:"none"});$("body").css({"box-shadow":"none"})}function detectTouch(){try{return document.createEvent("TouchEvent"),!0}catch(a){return!1}}
function storageSetup(){var a=JSON.parse(localStorage.getItem("Qprogress")),b={ver:lsVersion,QIDs:[],ans:[],curScore:0};null==a?localStorage.setItem("Qprogress",JSON.stringify(b)):a.ver!=lsVersion&&localStorage.setItem("Qprogress",JSON.stringify(b))}function openAns(a){a.addClass("open");touch||$("#cursor").addClass("hidden")}
function closeAns(a){a.removeClass("open");$("#cursor").removeClass("hidden");a.find(".selected").length?(a.addClass("selectionMade"),$(".card").find(".select").length===$(".card").find(".selectionMade").length&&$(".qBtn").prop("disabled",!1)):(a.removeClass("selectionMade"),$(".qBtn").prop("disabled",!0))}
function animateValue(a,b,d,c){function e(){var a=(new Date).getTime(),a=Math.round(d-Math.max((h-a)/c,0)*g);f.text(a);a==d&&clearInterval(k)}var f=$("#"+a),g=d-b;a=Math.abs(Math.floor(c/g));a=Math.max(a,50);var h=(new Date).getTime()+c,k;k=setInterval(e,a);e()}
function calcScore(a,b){a=void 0===a?JSON.parse(localStorage.getItem("Qprogress")):a;b=void 0===b?function(){}:b;for(var d=0,c=a.ans.length,e=$jscomp.makeIterator(a.ans),f=e.next();!f.done;f=e.next())for(var f=$jscomp.makeIterator(f.value),g=f.next();!g.done;g=f.next())d+="pre"==g.value?1:-1;c=d/Math.max(c+1,6);$("body").removeClass("status-meh status-pre status-de").addClass(.2>Math.abs(c)?"status-meh":0<d?"status-pre":"status-de");a.curScore=c;localStorage.setItem("Qprogress",JSON.stringify(a));
b();return c}
function scoreMeter(){var a=JSON.parse(localStorage.getItem("Qprogress")),b=a.QIDs.length,d=$("#scoreMeter+button");b?d.removeClass("inactive").prop("disabled",!1):d.addClass("inactive").prop("disabled",!0);var c=calcScore(a),e=Math.abs(2E3*(c-scoreMeterVal[0]));setTimeout(function(){$("#indicator").css("margin-left",50*scoreMeterVal[0]+"%").show().animate({"margin-left":50*c+"%"},e,"easeInOutCubic").addClass("set");animateValue("indicatorVal",scoreMeterVal[1],b,e);scoreMeterVal=[c,b]},300)}
function nextQ(a,b){a=void 0===a?!0:a;b=void 0===b?!1:b;var d=JSON.parse(localStorage.getItem("Qprogress"));b&&($("a").removeClass("active"),$("main").removeClass("home"),$("main").addClass("quiz"));var c=Math.floor(Math.random()*Object.keys(questList).length+1);if(-1!==$.inArray(c,d.QIDs))d.QIDs.length>=Object.keys(questList).length?(changePage($("#score")),$(".menu a:first-child").addClass("active")):nextQ();else{var e=$("main .content").eq(0),f=Object.keys(questList).length==d.QIDs.length+1,g=
[Math.floor(2*Math.random()),Math.floor(2*Math.random())],h=2*Math.floor(1E3*Math.random()),c="q"+c;questList[c].text3?e.after('<div class="content"><div class="card" id="q-'+questList[c].ID+'"><p class="qInfo">'+(f?"Last Question":"Question "+(d.QIDs.length+1))+"</p><span>"+questList[c].text1+'</span><div class="select" tabindex="0"><div name="'+("a-"+(h+g[0]))+'" class="answer topAns">'+questList[c].option1[g[0]?"pre":"de"]+'</div><div class="blank">\u00d7</div><div name="'+("a-"+(h+g[0]))+'" class="answer botAns">'+
questList[c].option1[g[0]?"de":"pre"]+"</div></div><span>"+questList[c].text2+'</span><div class="select" tabindex="0"><div name="'+("a-"+(h+g[1]))+'" class="answer topAns">'+questList[c].option2[g[1]?"pre":"de"]+'</div><div class="blank">\u00d7</div><div name="'+("a-"+(h+g[1]))+'" class="answer botAns">'+questList[c].option2[g[1]?"de":"pre"]+"</div></div><span>"+questList[c].text3+'</span><button disabled class="qBtn full-width" onclick="recordQ()">'+(f?"See Your Score":"Next")+'</button><p class="qRule"><a target="_blank" href="'+
questList[c].rule+'">More Info</a></p></div></div>'):e.after('<div class="content"><div class="card" id="q-'+questList[c].ID+'"><p class="qInfo">'+(f?"Last Question":"Question "+(d.QIDs.length+1))+"</p><span>"+questList[c].text1+'</span><div class="select" tabindex="0"><div name="'+("a-"+(h+g[0]))+'" class="answer topAns">'+questList[c].option1[g[0]?"pre":"de"]+'</div><div class="blank">\u00d7</div><div name="'+("a-"+(h+g[0]))+'" class="answer botAns">'+questList[c].option1[g[0]?"de":"pre"]+"</div></div><span>"+
questList[c].text2+'</span><button class="qBtn full-width" onclick="recordQ()">'+(f?"See Your Score":"Next")+'</button><p class="qRule"><a target="_blank" href="'+questList[c].rule+'">More Info</a></p></div></div>');if(a){var k=$("#main .content");k.animate({left:"-100%"},500,"easeInOutBack");setTimeout(function(){e.remove();k.css("left","0%")},550)}}}
function recordQ(){var a=JSON.parse(localStorage.getItem("Qprogress")),b=$(".selected"),d=b.parents(".card").attr("id"),c=[];b.each(function(a,b){var d=$(b).attr("name"),d=d.slice(2,d.length)%2;$(b).hasClass("topAns")?c.push(d?"pre":"de"):c.push(d?"de":"pre")});a.QIDs.push(parseInt(d.slice(2,d.length)));a.ans.push(c);calcScore(a,function(){nextQ()})}
var changePage=function(a){var b=$("main");l=a.attr("href");if(-1<l.indexOf("http"))window.open(l,"_blank");else if(!b.hasClass(l)){a.hasClass("active")||($("a").removeClass("active"),$("a[href="+l+"]").addClass("active"));ctn=0<b.find(".content").length;var d="home"==l?-1:1;b.animate({top:200*-d,opacity:0},ctn?500:0,"easeInCubic",function(){b.animate({top:200*d},50,function(){b.load(l+".html",function(a,d){"error"==d&&(b.load("404.html"),b.addClass("class_name"));b.animate({top:0,opacity:1},500,
"easeOutCubic");b.removeClass();b.addClass(l)})})})}};
