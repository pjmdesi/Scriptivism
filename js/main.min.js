var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var g=a[e];if(b.call(c,g,e,a))return{i:e,v:g}}return{i:-1,v:void 0}};
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6-impl","es3");$jscomp.array=$jscomp.array||{};
$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6-impl","es3");
var touch=!1,mot=1,cur=1,currentLoc="",scoreMeterVal=[0,0],lsVersion=.3,getQs=$.getJSON("js/questions.json",function(){}).done(function(){questList=JSON.parse(getQs.responseText).questions}).fail(function(a,b,c){console.error("getJSON for questions.json failed, status: "+b+", error: "+c)});
$(document).ready(function(){$("a").click(function(a){a.preventDefault();changePage($(this))});detectTouch(function(){$("html").off()});localStorage.getItem("motion")?mot=parseInt(localStorage.getItem("motion")):localStorage.setItem("motion",mot);localStorage.getItem("cursor")?cur=parseInt(localStorage.getItem("cursor")):localStorage.setItem("cursor",cur);cur&&!touch||$("body").removeClass("custCursOn");storageSetup();calcScore(JSON.parse(localStorage.getItem("Qprogress")));changePage($("#sitelogo"));
setFanciness($("a"))});$("main").on("click","#motionToggle",function(){mot?(localStorage.setItem("motion",0),mot=0,$("main, #cursor").css({"-webkit-transform":"none","-moz-transform":"none","-ms-transform":"none",transform:"none"}),$("body").css({"box-shadow":"none"}),$("#motionToggle").html("Turn on motion effects")):(localStorage.setItem("motion",1),mot=1,$("#motionToggle").html("Turn off motion effects"))});
$("main").on("click","#cursorToggle",function(){cur?(localStorage.setItem("cursor",0),cur=0,$("body").removeClass("custCursOn"),$("#cursorToggle").html("Turn on custom cursor")):(localStorage.setItem("cursor",1),cur=1,$("body").addClass("custCursOn"),$("#cursorToggle").html("Turn off custom cursor"))});
function applyTouch(){$("#cursor").remove();$(document).unbind();localStorage.setItem("motion",0);mot=0;$("main").css({"-webkit-transform":"none","-moz-transform":"none","-ms-transform":"none",transform:"none"});$("body").css({"box-shadow":"none"})}function detectTouch(a){$("html").on("touchstart",function(){touch=!0;applyTouch();a()});$("html").on("click",function(){touch=!1;a()});return touch}$("main").on("mouseenter","input, textarea",function(){$("#cursor").addClass("inputHover")});
$("main").on("mouseleave","input, textarea",function(){$("#cursor").removeClass("inputHover");$("#cursor").removeClass("mousedown")});$("main").on("mousedown","input, textarea",function(){$("#cursor").addClass("mousedown")});$("main").on("mouseup","input, textarea",function(){$("#cursor").removeClass("mousedown")});
function setFanciness(a){var b=0,c=$("#cursor");$(a).on("mouseenter",function(a){$(this).attr("href")&&(0<=$(this).attr("href").indexOf("http")?c.addClass("link"):"");c.addClass("hover");b=200;setTimeout(function(){b=0},300)}).on("mouseleave",function(a){c.removeClass("hover link mousedown mouseRefuse")}).on("mousedown",function(a){$(a.target).hasClass("active")||$(a.target).parents("a").hasClass("active")?c.addClass("mouseRefuse"):c.addClass("mousedown");b=200;setTimeout(function(){b=0},300)}).on("mouseup",
function(a){setTimeout(function(){c.removeClass("mousedown mouseRefuse")},b)});$(document).bind("mousemove",function(a){var b,d,c;b=$(window).width();d=$(window).height();c=a.pageX;a=a.pageY;$("#cursor").css({left:c-3,top:a-3});b=-(12-c/b*24);d=8-a/d*16;c=Math.abs(b)/b*Math.pow(Math.abs(b),.5);a=$("body").hasClass("status-meh")?"rgba(82, 0, 210, 0.15)":$("body").hasClass("status-de")?"rgba(0, 183, 226, 0.15)":"rgba(255, 0, 98, 0.15)";b=String(-10*b+"px "+10*d+"px 180px -60px "+a+" inset");mot&&($("main, #cursor").css({"-webkit-transform":"rotateX("+
d+"deg) rotateY("+c+"deg)","-moz-transform":"rotateX("+d+"deg) rotateY("+c+"deg)","-ms-transform":"rotateX("+d+"deg) rotateY("+c+"deg)",transform:"rotateX("+d+"deg) rotateY("+c+"deg)"}),$("body").css({"box-shadow":b}))})}function storageSetup(){var a=JSON.parse(localStorage.getItem("Qprogress")),b={ver:lsVersion,QIDs:[],ans:[],curScore:0};null==a?localStorage.setItem("Qprogress",JSON.stringify(b)):a.ver!=lsVersion&&localStorage.setItem("Qprogress",JSON.stringify(b))}
function openAns(a){var b=a.find(".answer"),c=a.find(".blank");a.addClass("open");touch?setTimeout(function(){b.on("touchstart",function(){b.removeClass("selected");a.addClass("selectionMade");$(this).addClass("selected")}).on("touchend",function(){closeAns(a)});c.on("touchstart",function(){b.removeClass("selected");a.removeClass("selectionMade")})},150):($("#cursor").addClass("hidden"),b.on("mouseenter",function(){b.removeClass("selected");a.addClass("selectionMade");$(this).addClass("selected");
$(this).on("mousemove",function(a){var b=$(this),c=b.parents(".select"),d=a.pageX;a=a.pageY;var h=c.offset().left,k=c.offset().top,m=c.outerWidth(),c=b.hasClass("topAns")?0:64,h=h+m/2,k=k+c+16,d=Math.abs(d-h)/(d-h)*Math.pow(Math.abs(d-h),.5);a=Math.abs(a-k)/(a-k)*Math.pow(Math.abs(a-k),.5);b.css({"-webkit-transform":"translate("+d+"px,"+a+"px)","-moz-transform":"translate("+d+"px,"+a+"px)","-ms-transform":"translate("+d+"px,"+a+"px)",transform:"translate("+d+"px,"+a+"px)"})})}).on("mouseleave",function(a){$(this).css({"-webkit-transform":"translate(0px,0px)",
"-moz-transform":"translate(0px,0px)","-ms-transform":"translate(0px,0px)",transform:"translate(0px,0px)"}).off("mousemove")}).on("click",function(){closeAns(a);$(this).css({"-webkit-transform":"translate(0px,0px)","-moz-transform":"translate(0px,0px)","-ms-transform":"translate(0px,0px)",transform:"translate(0px,0px)"})}),c.on("click",function(){b.removeClass("selected");a.removeClass("selectionMade")}))}
function closeAns(a){var b=a.find(".answer"),c=a.find(".blank");a.find(".selected").length?(a.addClass("selectionMade"),$(".card").find(".select").length===$(".card").find(".selectionMade").length&&$(".qBtn").prop("disabled",!1)):(a.removeClass("selectionMade"),$(".qBtn").prop("disabled",!0));a.removeClass("open");$("#cursor").removeClass("hidden");b.off();c.off()}$("main").on(touch?"touchstart":"mouseenter focusin",".content .card .select",function(a){event.stopPropagation();openAns($(this))});
$("main").on(touch?"touchstart":"click",".content .card .select .blank",function(a){$(this).find(".selected").removeClass("selected");$(this).removeClass("selectionMade")});$("main").on("click","#scoreMeter+button",function(){localStorage.clear();storageSetup();scoreMeter()});
$("main").on("keydown",".content .card .select",function(a){a.stopPropagation();var b=$(this);switch(a.which){case 38:openAns(b);b.find(".answer").removeClass("selected");b.find(".topAns").addClass("selected");break;case 40:openAns(b);b.find(".answer").removeClass("selected");b.find(".botAns").addClass("selected");break;case 27:b.find(".answer").removeClass("selected");closeAns(b);break;case 13:case 32:a.preventDefault();b.hasClass("open")&&b.find(".selected").length?(closeAns(b),b.nextAll(".select, .qBtn").eq(0).focus().addClass("open")):
openAns(b);break;case 39:a.preventDefault();b.nextAll(".select").length&&(b.hasClass("open")&&closeAns(b),b.nextAll(".select").eq(0).focus().addClass("open"));break;case 37:a.preventDefault(),b.prevAll(".select").length&&(b.hasClass("open")&&closeAns(b),b.prevAll(".select").eq(0).focus().addClass("open"))}});$("main").on("mouseleave focusout keyup",".content .card .select",function(a){13===a.which?a.preventDefault():a.which||closeAns($(this))});
function usrInteraction(){touch?"":setFanciness($("button"))}function animateValue(a,b,c,d){function e(){var a=(new Date).getTime(),a=Math.round(c-Math.max((h-a)/d,0)*f);g.text(a);a==c&&clearInterval(k)}var g=$("#"+a),f=c-b;a=Math.abs(Math.floor(d/f));a=Math.max(a,50);var h=(new Date).getTime()+d,k;k=setInterval(e,a);e()}
function calcScore(a,b){a=void 0===a?JSON.parse(localStorage.getItem("Qprogress")):a;b=void 0===b?function(){}:b;for(var c=0,d=a.ans.length,e=$jscomp.makeIterator(a.ans),g=e.next();!g.done;g=e.next())for(var g=$jscomp.makeIterator(g.value),f=g.next();!f.done;f=g.next())c+="pre"==f.value?1:-1;d=c/Math.max(d+1,6);$("body").removeClass("status-meh status-pre status-de").addClass(.2>Math.abs(d)?"status-meh":0<c?"status-pre":"status-de");a.curScore=d;localStorage.setItem("Qprogress",JSON.stringify(a));
b();return d}
function scoreMeter(){var a=JSON.parse(localStorage.getItem("Qprogress")),b=a.QIDs.length,c=$("#scoreMeter+button");b?c.removeClass("inactive").prop("disabled",!1):c.addClass("inactive").prop("disabled",!0);var d=calcScore(a),e=Math.abs(2E3*(d-scoreMeterVal[0]));setTimeout(function(){$("#indicator").css("margin-left",50*scoreMeterVal[0]+"%").show().animate({"margin-left":50*d+"%"},e,"easeInOutCubic").addClass("set");animateValue("indicatorVal",scoreMeterVal[1],b,e);scoreMeterVal=[d,b]},300)}
function nextQ(a,b){a=void 0===a?!0:a;var c=JSON.parse(localStorage.getItem("Qprogress")),d=Math.floor(Math.random()*Object.keys(questList).length+1);if(-1!==$.inArray(d,c.QIDs))c.QIDs.length>=Object.keys(questList).length?(changePage($("#score")),$(".menu a:first-child").addClass("active")):nextQ();else{var e=$("#main .content").eq(0),g=Object.keys(questList).length==c.QIDs.length+1,f=[Math.floor(2*Math.random()),Math.floor(2*Math.random())],h=2*Math.floor(1E3*Math.random()),d="q"+d;questList[d].text3?
e.after('<div class="content"><div class="card" id="q-'+questList[d].ID+'"><p class="qInfo">'+(g?"Last Question":"Question "+(c.QIDs.length+1))+"</p><span>"+questList[d].text1+'</span><div class="select" tabindex="0"><div name="'+("a-"+(h+f[0]))+'" class="answer topAns">'+questList[d].option1[f[0]?"pre":"de"]+'</div><div class="blank">\u00d7</div><div name="'+("a-"+(h+f[0]))+'" class="answer botAns">'+questList[d].option1[f[0]?"de":"pre"]+"</div></div><span>"+questList[d].text2+'</span><div class="select" tabindex="0"><div name="'+
("a-"+(h+f[1]))+'" class="answer topAns">'+questList[d].option2[f[1]?"pre":"de"]+'</div><div class="blank">\u00d7</div><div name="'+("a-"+(h+f[1]))+'" class="answer botAns">'+questList[d].option2[f[1]?"de":"pre"]+"</div></div><span>"+questList[d].text3+'</span><button disabled class="qBtn full-width" onclick="recordQ()">'+(g?"See Your Score":"Next")+'</button><p class="qRule"><a target="_blank" href="'+questList[d].rule+'">More Info</a></p></div></div>'):e.after('<div class="content"><div class="card" id="q-'+
questList[d].ID+'"><p class="qInfo">'+(g?"Last Question":"Question "+(c.QIDs.length+1))+"</p><span>"+questList[d].text1+'</span><div class="select" tabindex="0"><div name="'+("a-"+(h+f[0]))+'" class="answer topAns">'+questList[d].option1[f[0]?"pre":"de"]+'</div><div class="blank">\u00d7</div><div name="'+("a-"+(h+f[0]))+'" class="answer botAns">'+questList[d].option1[f[0]?"de":"pre"]+"</div></div><span>"+questList[d].text2+'</span><button class="qBtn full-width" onclick="recordQ()">'+(g?"See Your Score":
"Next")+'</button><p class="qRule"><a target="_blank" href="'+questList[d].rule+'">More Info</a></p></div></div>');if(a){var k=$("#main .content");k.animate({left:"-100%"},500,"easeInOutBack");setTimeout(function(){e.remove();k.css("left","0%");usrInteraction()},550)}}}
function recordQ(){var a=JSON.parse(localStorage.getItem("Qprogress")),b=$(".selected"),c=b.parents(".card").attr("id"),d=[];b.each(function(a,b){var c=$(b).attr("name"),c=c.slice(2,c.length)%2;$(b).hasClass("topAns")?d.push(c?"pre":"de"):d.push(c?"de":"pre")});a.QIDs.push(parseInt(c.slice(2,c.length)));a.ans.push(d);calcScore(a,function(){nextQ()})}
var changePage=function(a){var b=$("#main");l=a.attr("href");if(-1<l.indexOf("http"))window.open(l,"_blank");else if(!b.hasClass(l)){a.hasClass("active")||($("a").removeClass("active"),a.addClass("active"));ctn=0<b.find(".content").length;var c="home"==l?-1:1;b.animate({top:200*-c,opacity:0},ctn?500:0,"easeInCubic",function(){b.animate({top:200*c},50,function(){b.load(l+".html",function(a,c){"error"==c&&(b.load("404.html"),b.addClass("class_name"));b.animate({top:0,opacity:1},500,"easeOutCubic");
b.removeClass();b.addClass(l);usrInteraction();setFanciness()})})})}};
